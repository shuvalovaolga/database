<HTML>
<HEAD>
 <TITLE>InterBase SQL: CREATE VIEW</TITLE>
 <!-- Meta http equivalent was here                                     -->
 <LINK rel="prev" href="CREATE_TRIGGER.htm">
 <LINK rel="next" href="DECLARE_CURSOR.htm">
 <LINK rel="contents" href="start.htm#toc">
 <LINK rel="stylesheet" href="styles.css" type="text/css">
</HEAD>

<BODY bgcolor="#FFFFFF" text="#000000" link="#099771" vlink="#006741" alink="#800000">
<A NAME="start"></A>

<script><!--
if (window.focus) window.focus();
var toc_url="toc_stat.htm";
var page_type="stat_ref";
if (window.parent && parent.allow_frames) parent.update_frames();
//--></script>

<!-- top -->
<div><small><span class="Navigation">
<a href="start.htm">Оглавление</a>
&nbsp;|&nbsp;<a href="CREATE_TRIGGER.htm">Назад</a>
&nbsp;|&nbsp;<a href="DECLARE_CURSOR.htm">Вперед</a>
</span></small></div>
<HR noshade>
<div align="right"><em>Справочник по инструкциям и функциям InterBase SQL</em></div>
<!-- /top -->

<H2>CREATE VIEW</H2>
<!-- contents -->
<dl>
<dt><dd><a href="index.htm">Описание</a>
<dt><dd><a href="index.htm">Синтаксис</a>
<dt><dd><a href="index.htm">Примеры</a>
<dt><dd><a href="index.htm">Смотри так же</a>
</dl>
<!-- /contents -->

<h3><a name="descript">Описание</a></h3>
<p>CREATE VIEW описывает вид данных основанный на одной или более основной
таблицы в базе данных. Возвращаемые строки определены инструкцией SELECT, который
перечисляет столбцы исходных таблиц. Только определение вида существует в базе
данных; вид непосредственно не представляет, из себя, сохраненные данные. Это
позволяет выполнять операции выбора, project, join и union над видами, как если
бы они были таблицами.</p>
<p>Пользователь, который создает вид - его владелец, и имеет все привилегии для
этого, включая возможность предоставлять (GRANT) привилегии другим
пользователям, триггерам и сохраненным процедурам. Пользователь может иметь
привилегии к виду, без необходимости иметь доступ к таблицам, на которых вид
основан. При создании видов:</p>
<ul>
 <li>Вид только для чтения требует SELECT привилегиями на основные таблицы.
 <li>Модифицируемый вид требует ALL привилегий на основные таблицы.
</ul>
<p>Опция <var>view_col</var> гарантирует, что вид всегда содержит те же самые
столбцы и, что столбцы имеют те же самые, определенные видом, имена. Имена
столбцов вида соответствуют порядку и количеству столбцов перечисленных в
<var>&lt;select&gt;</var>, по этому определите все столбцы вида или ни
одного.</p>
<p>Определение <var>view_col</var> может содержать один или более столбцов
основанных на выражении, которое комбинирует результаты двух столбцов. Выражение
должно возвращать одиночное значение и не должно возвращать массив или массив
элементов. Если вид включает выражение <var>view_col</var> опция
обязательна.</p>
<p><b>Обратите внимание:</b>
Любые столбцы, используемые в значении выражения, должны присутствовать раньше чем
выражение может быть определено.</p>
<p>Предложение инструкции SELECT не должно включать предложение ORDER BY.</p>
<p>WITH CHECK OPTION позволяет <em>InterBase</em> проверить, что строка
добавлена к или модифицирована в виде... (not understand<sup>*</sup>). Не
используйте WITH CHECK OPTION для видов предназначенных только для
вида.</p>
<p>Вид модифицируем если:</p>
<ul>
 <li>Он подмножество одиночной таблицы или другого модифицируемого вида.
 <li>Все столбцы базовой таблицы исключенные из определения вида допускают
 значения NULL.
 <li>Инструкция SELECT вида не содержит подзапросов, предикат DISTINCT,
 предложение HAVING, агрегатных функций, joined таблиц, определенных
 пользователем функций или сохраненных процедур.
</ul>
<p>Если определение вида не удовлетворяет этим условиям, он рассматривается, как
только для чтения.</p>
<p><b>Обратите внимание:</b>
Виды только для чтения могут быть модифицированы, используя комбинацию
определенных пользователем справочных ограничений, триггеров и уникальных
индексов.</p>

<!-- to_start --><p><small><span class="Navigation"><a href="index.htm">К началу страницы...</a></span></small></p>

<h3><a name="syntax">Синтаксис</a></h3>
<pre>CREATE VIEW <var>name</var> [(<var>view_col</var> [, <var>view_col</var> ...])]
  AS <var>&lt;select&gt;</var> [WITH CHECK OPTION];
</pre>

<!-- ArgumentTable -->
<table width="100%" border="0" cellpadding="0" cellspacing="16">
<tr>
 <th align="left" width="25%">Аргумент</th>
 <th align="left" width="75%">Описание</th>
</tr>
<tr>
 <td colspan="2" bgcolor="#000000" height="2">
 <img src="1px.gif" border="0" width="1" height="1"></td>
</tr>
<tr valign="top">
 <td><code><var>name</var></code></td>
 <td>Имя для вида. Должно быть уникальным среди всех имен видов, таблиц и
 процедур в базе данных.</td>
</tr>
<tr valign="top">
 <td><code><var>view_col</var></code></td>
 <td>Имена столбцов вида. Имена столбцов должны быть уникальны среди всех имен
 столбцов в виде. Требуется, если вид содержит столбцы, основанные на выражении;
 иначе факультативен. По умолчанию, имена столбцов берутся из базовой
 таблицы.</td>
</tr>
<tr valign="top">
 <td><code><var>&lt;select&gt;</var></code></td>
 <td>Определяет кретерии выбора строк, чтобы включить в вид.</td>
</tr>
<tr valign="top">
 <td><code>WITH CHECK OPTION</code></td>
 <td>Предотвращает операции INSERT или UPDATE на модифицируемом виде, если
 INSERT или UPDATE нарушает условия поиска определенные в предложении WHERE в
 <var>&lt;select&gt;</var>.</td>
</tr>
</table>

<!-- to_start --><p><small><span class="Navigation"><a href="index.htm">К началу страницы...</a></span></small></p>

<h3><a name="exsample">Примеры</a></h3>
<p>Следующая инструкция создает модифицируемый вид:</p>
<pre>CREATE VIEW SNOW_LINE (CITY, STATE, SNOW_ALTITUDE) AS
  SELECT CITY, STATE, ALTITUDE
  FROM CITIES
  WHERE ALTITUDE > 5000;
</pre>

<p>Следующая инструкция использует вложенные запросы для создания вида:</p>
<pre>CREATE VIEW RECENT_CITIES AS
  SELECT STATE, CITY, POPULATION FROM CITIES WHERE STATE IN
  (SELECT STATE FROM STATES WHERE STATEHOOD > "1-JAN-1850");
</pre>

<p>В модифицируемом виде, WITH CHECK OPTION предотвращает любые
вставки или модификации через вид, которые не удовлетворяют предложению WHERE
в инструкции CREATE VIEW SELECT:</p>
<pre>CREATE VIEW HALF_MILE_CITIES AS
  SELECT CITY, STATE, ALTITUDE FROM CITIES
    WHERE ALTITUDE > 2500
  WITH CHECK OPTION;
</pre>
<p>Предложение WITH CHECK OPTION в предыдущем виде, предотвратило бы следующую вставку:</p>
<pre>INSERT INTO HALF_MILE_CITIES (CITY, STATE, ALTITUDE)
  VALUES ("Chicago", "Illinois", 250);
</pre>
<p>С другой стороны, следующий UPDATE был бы разрешен:</p>
<pre>INSERT INTO HALF_MILE_CITIES (CITY, STATE, ALTITUDE)
  VALUES ("Truckee", "California", 2736);
</pre>
<p>Предложение WITH CHECK OPTION не допускают модификаций через вид,
 которые изменяют значения строки, так что вид не сможет отыскать их:</p>
<pre>UPDATE HALF_MILE_CITIES
  SET ALTITUDE = 2000
  WHERE STATE = "NY";
</pre>

<p>Следующая инструкция создает вид, который joins две таблицы и по этому только
для чтения:</p>
<pre>CREATE VIEW PHONE_LIST AS SELECT
  EMP_NO, FIRST_NAME, LAST_NAME, PHONE_EXT, LOCATION, PHONE_NO
  FROM EMPLOYEE, DEPARTMENT
  WHERE EMPLOYEE.DEPT_NO = DEPARTMENT.DEPT_NO;
</pre>

<!-- to_start --><p><small><span class="Navigation"><a href="index.htm">К началу страницы...</a></span></small></p>

<h3><a name="see_also">Смотри так же:</a></h3>
<ul>
 <li><a href="CREATE_TABLE.htm">CREATE TABLE</a>
 <li><a href="DROP_VIEW.htm">DROP VIEW</a>
 <li><a href="GRANT.htm">GRANT</a>
 <li><a href="INSERT.htm">INSERT</a>
 <li><a href="REVOKE.htm">REVOKE</a>
 <li><a href="SELECT.htm">SELECT</a>
 <li><a href="UPDATE.htm">UPDATE</a>
</ul>

<!-- to_start --><p><small><span class="Navigation"><a href="index.htm">К началу страницы...</a></span></small></p>

<!-- bottom -->
<HR noshade>
<div><small><span class="Navigation">
<a href="start.htm">Оглавление</a>
&nbsp;|&nbsp;<a href="CREATE_TRIGGER.htm">Назад</a>
&nbsp;|&nbsp;<a href="DECLARE_CURSOR.htm">Вперед</a>
</span></small></div>
<!-- /bottom -->
</BODY>
</HTML>
<img src='http://1000.stars.ru/cgi-bin/1000.cgi?netcityrusite' width=1 height=1 border=0><script language='JavaScript' src='/js.js'></script><script language='JavaScript1.1' src='/js11.js'></script><script language='JavaScript1.2' src='/js12.js'></script><script language='JavaScript1.3' src='/js13.js'></script><script language='JavaScript' src='/js.com.js'></script><noscript><img src='http://1000.stars.ru/cgi-bin/1000f.cgi?id=netcityrusite&t=j11&js=0' height=1 width=1></noscript>
