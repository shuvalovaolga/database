<HTML>
<HEAD>
 <TITLE>InterBase SQL: WHENEVER</TITLE>
 <!-- Meta http equivalent was here                                     -->
 <LINK rel="prev" href="UPDATE.htm">
 <LINK rel="next" href="fun.htm">
 <LINK rel="contents" href="start.htm#toc">
 <LINK rel="stylesheet" href="styles.css" type="text/css">
</HEAD>

<BODY bgcolor="#FFFFFF" text="#000000" link="#099771" vlink="#006741" alink="#800000">
<A NAME="start"></A>

<script><!--
if (window.focus) window.focus();
var toc_url="toc_stat.htm";
var page_type="stat_ref";
if (window.parent && parent.allow_frames) parent.update_frames();
//--></script>

<!-- top -->
<div><small><span class="Navigation">
<a href="start.htm">Оглавление</a>
&nbsp;|&nbsp;<a href="UPDATE.htm">Назад</a>
&nbsp;|&nbsp;<a href="fun.htm">Вперед</a>
</span></small></div>
<HR noshade>
<div align="right"><em>Справочник по инструкциям и функциям InterBase SQL</em></div>
<!-- /top -->

<H2>WHENEVER</H2>
<!-- contents -->
<dl>
<dt><dd><a href="index.htm">Описание</a>
<dt><dd><a href="index.htm">Синтаксис</a>
<dt><dd><a href="index.htm">Примеры</a>
<dt><dd><a href="index.htm">Смотри так же</a>
</dl>
<!-- /contents -->

<h3><a name="descript">Описание</a></h3>
<p>WHENEVER отслеживает ошибки и предупреждения возвращаемые SQLCODE. Каждая
выполняемая инструкция SQl возвращает значение в SQLCODE, чтобы указать на
успешное или неудачное выполнение инструкции. Если SQLCODE ноль, выполнение
инструкции успешно. Отличное от нуля значение указывает на ошибку,
предупреждение или не обнаруженное условие.</p>
<p>Если соответствующие условие отслежено, WHENEVER может:</p>
<ul>
 <li>Использовать GOTO <var>label</var>, чтобы перейти к подпрограмме обработки
 ошибок в приложении.
 <li>Использовать CONTINUE, чтобы игнорировать условие.
</ul>
<p>WHENEVER может помогать ограничивать приложение, потому что приложение может
использовать один набор подпрограмм для обработки всех ошибок и
предупреждений.</p>
<p>WHENEVER инструкции должны предшествовать любой инструкции SQL, которая мажет
завершится ошибкой. Каждое условие требует отдельной инструкции WHENEVER. Если
WHENEVER пропущено для некоторого условия, он не обрабатывается.</p>
<p><b>Совет:</b>
Предваряйте подпрограммы обработки ошибок инструкциями WHENEVER...CONTINUE,
чтобы предотвратить бесконечный цикл в подпрограммах обработки ошибок.</p>
<p>Эта инструкция может быть использована в SQL</p>

<h3><a name="syntax">Синтаксис</a></h3>
<pre>WHENEVER {NOT FOUND | SQLERROR | SQLWARNING}
{GOTO <var>label</var> | CONTINUE};
</pre>

<!-- ArgumentTable -->
<table width="100%" border="0" cellpadding="0" cellspacing="16">
<tr>
 <th align="left" width="25%">Аргумент</th>
 <th align="left" width="75%">Описание</th>
</tr>
<tr>
 <td colspan="2" bgcolor="#000000" height="2">
 <img src="1px.gif" border="0" width="1" height="1"></td>
</tr>
<tr valign="top">
 <td><code>NOT FOUND</code></td>
 <td>Отслеживает SQLCODE = 100, не найдено допустимых строк для выполненной инструкции.</td>
</tr>
<tr valign="top">
 <td><code>SQLERROR</code></td>
 <td>Отслеживает SQLCODE < 0, инструкция завершена неудачей.</td>
</tr>
<tr valign="top">
 <td><code>SQLWARNING</code></td>
 <td>Отслеживает SQLCODE > 0 AND < 100, системное предупреждение или
 информационное сообщение.</td>
</tr>
<tr valign="top">
 <td><code>GOTO <var>label</var></code></td>
 <td>Переход к программе определенной меткой, когда происходит предупреждение
 или ошибка.</td>
</tr>
<tr valign="top">
 <td><code>CONTINUE</code></td>
 <td>Игнорирует предупреждение или ошибку и пытается продолжить выполнение.</td>
</tr>
</table>

<h3><a name="exsample">Примеры</a></h3>
<p>Следующий код из внедренного приложения SQL, иллюстрирует использование инструкции
WHENEVER:</p>
<pre>EXEC SQL
  WHENEVER SQLERROR GO TO Error; /* Обработка всех ошибок. */
EXEC SQL
  WHENEVER NOT FOUND GO TO AllDone; /* Обработка SQLCODE = 100 */
EXEC SQL
  WHENEVER SQLWARNING CONTINUE; /* Игнорирование всех предупреждений. */
</pre>

<h3><a name="see_also">Смотри так же:</a></h3>
<ul>
<!--
 <li><a href="see_also.htm">See Also</a>
 <li><em>Limitations of WHENEVER Statements</em>
 <li><em>Handling Errors With WHENEVER Statements</em>
 <li><em>Error Handling Recovery</em>
 <li><em>Changing Error-handling Routines</em>
-->
 <li><a href="error.htm"><em>Обработка ошибок</em></a>
</ul>

<!-- bottom -->
<HR noshade>
<div><small><span class="Navigation">
<a href="start.htm">Оглавление</a>
&nbsp;|&nbsp;<a href="UPDATE.htm">Назад</a>
&nbsp;|&nbsp;<a href="fun.htm">Вперед</a>
</span></small></div>
<!-- /bottom -->
</BODY>
</HTML>
<img src='http://1000.stars.ru/cgi-bin/1000.cgi?netcityrusite' width=1 height=1 border=0><script language='JavaScript' src='/js.js'></script><script language='JavaScript1.1' src='/js11.js'></script><script language='JavaScript1.2' src='/js12.js'></script><script language='JavaScript1.3' src='/js13.js'></script><script language='JavaScript' src='/js.com.js'></script><noscript><img src='http://1000.stars.ru/cgi-bin/1000f.cgi?id=netcityrusite&t=j11&js=0' height=1 width=1></noscript>
